<!DOCTYPE html>
<html lang="en" ng-app>
<head>
<meta charset="utf-8">
<title>eValhalla</title>
<script type="text/javascript" src="/javascript/angular.js"></script>
<script type="text/javascript" src="/javascript/jquery-1.8.1.js"></script>

<script>
  
function eValhallaController($scope, $http) {
  $scope.user = {};    
  $scope.user.email='';
  $scope.user.password='';
  $scope.doLogin = function() {
    console.log('login ', $scope.user);
    $http.post('/rest/user/login', {email:$scope.user.email, password:$scope.user.password}).success(function(x) {
        console.log('login response', x);
        alert('Login: ' + x.ok);
    });
  }
}

</script>

</head>
<body ng-controller="eValhallaController">
<p >
Email:<input type="text" ng-model="user.email"/> Password <input type="password" ng-model="user.password"/> 
<button type="button" ng-click='doLogin()'>Login</button>
</p>
<h1>eValhalla - Phase 1</h1>
<p>
To make a little test, type in a username (email) and a password in the login form. It should automatically
add a new user if it doesn't find the username and from then on it should check that the password
matches.
</p>
</body>
</html>
